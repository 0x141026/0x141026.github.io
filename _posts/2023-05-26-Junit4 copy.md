---
layout: post
title: Java单元测试和集成测试new
categories: [Junit, 单元测试, 集成测试]
description: 区别单元测试和集成测试的区别
keywords: Junit4, Junit4, 单元测试, 集成测试
mermaid: false
sequence: false
flow: false
mathjax: false
mindmap: false
mindmap2: false
---
#### 注意区分Junit4和Junit5的写法

### 一、why？purpose?（为啥这样呢？）=》how？
1. 单元测试的目标是隔离程序部件（比如和真实的数据库的交互、和文件系统的交互）并证明这些单个部件是正确的。好处是，单元测试在软件开发过程的早期就能发现问题。

在过程化编程中，一个单元就是单个程序、函数、过程等；对于面向对象编程，最小单元就是方法，包括基类（超类）、抽象类、或者派生类（子类）中的方法。每个理想的测试案例独立于其它案例；为测试时隔离模块，经常使用stubs、mock或fake等测试马甲程序。

2. 狭义的集成测试测的是服务的边界。从概念上来说，这样的测试总是在触发导致应用和外部依赖（文件系统，数据库，其他服务等）集成的行为。

每次只测试一个集成点。测试时应使用*测试替身*来替代其他的外部服务、数据库等。为这些边界编写集成测试，保证了对外部系统的数据读写操作是正常工作的。


### 二、Is it necessary to exist？Can i delete it?（非得这样吗？）
1. 虽然单元测试不是必须的，但也不坏，这牵涉到项目管理的政策决定。比如测试驱动开发。
2. 单元测试并不是必须的，单有时候通过它可以帮助我们改进代码结构：
    > 因为上厕所的时候，想到写的程序改如何测试，有几条路径需要覆盖？从而帮助自己为改进了代码结构。本来有一个更新的函数只执行更新操作，和一个新增的函数只执行新增操作，发现更新函数必须要先查询记录存在与否，不存在应该去新增，存在才更新。因为页面上的展示数据和要存的数据虽然是同样的内容，但是是不同的表，不能默认页面上有数据，就代表我们要存的表有数据。

因此两个函数合成一个，错误！单个函数值执行单一功能，还是分开写，新增的保存时就插入就好，不用判断数据存在与否，因为新建的主键肯定是最新的。修改的保存就要根据查询存在与否决定更新还是插入，插入直接调用上面的插入函数就好。

### 三、What's the alternative? Is it the best tools（不能那样吗？）

#### 参考链接
- [1] [测试金字塔实战](https://insights.thoughtworks.cn/practical-test-pyramid/)


